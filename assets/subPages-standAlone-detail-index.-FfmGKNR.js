import{d as e,Q as s,c as a,a as t,b as o,e as l,h as n,n as i,g as c,m as r,R as u,z as p,w as d,o as m,f,i as g,A as v,F as h,k as y,j as w,t as b,C as _,I as x,T as C,U as j,B as P,u as I,q as T,V as $}from"./index-D_C4ofMR.js";import{_ as E}from"./button.Bn5-U3NH.js";import{r as k,S as L}from"./dom.AUHUNGzB.js";import{c as A,m as N,a as S,g as B,P as D,_ as X,b as Y,o as F,t as G,f as H,q as M}from"./_plugin-vue_export-helper.DZhKmUop.js";import{e as U,_ as V}from"./empty.DDDEoadH.js";import{o as q}from"./uni-app.es.DDRHR3nM.js";import{a as z,N as R,f as W,b as O}from"./swiperitem.C5tjsm4B.js";import{c as Q,N as J}from"./icon.zmQ6wfZz.js";import{a as K}from"./index.QBpUgoTi.js";import"./useInject.DhMxnvHP.js";const Z={...A,type:N(""),gutter:S(""),justify:N("start"),align:N("flex-start"),flexWrap:N("nowrap")},ee=`${D}-row`,se=e({name:ee,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),ae=X(e({...se,props:Z,setup(e){const u=e;function p(e,s){return e?s?`nut-row-${e}-${s}`:"":`nut-row-${s}`}s("gutter",u.gutter);const d=a((()=>B(u,ee,[p("",u.type),p("justify",u.justify),p("align",u.align),p("flex",u.flexWrap)])));return(e,s)=>{const a=r;return t(),o(a,{class:i(d.value),style:c(e.customStyle)},{default:l((()=>[n(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-fc309e3c"]]),te={...A,span:S(24),offset:S(0)},oe=`${D}-col`,le=e({name:oe,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),ne=X(e({...le,props:te,setup(e){const s=e,p=u("gutter"),d=a((()=>B(s,oe,{[`${oe}-gutter`]:p,[`nut-col-${s.span}`]:!0,[`nut-col-offset-${s.offset}`]:!0}))),m=a((()=>Y(s,{paddingLeft:p/2+"px",paddingRight:p/2+"px"})));return(e,s)=>{const a=r;return t(),o(a,{class:i(d.value),style:c(m.value)},{default:l((()=>[n(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-3345820e"]]),ie={...A,show:Boolean,scale:Boolean,images:F([]),contentClose:G,initNo:H(0),paginationVisible:Boolean,paginationColor:N("#fff"),autoplay:S(3e3),showIndex:G,closeable:Boolean,closeIconPosition:N("top-right"),beforeClose:Function,isLoop:G},ce={[Q]:()=>!0,change:e=>M(e),longPress:e=>e instanceof Object},re=`${D}-image-preview`,ue=e({name:re,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),pe=X(e({...ue,props:ie,emits:ce,setup(e,{emit:s}){const n=e,u=s,P=p({showPop:!1,active:0,options:{muted:!0,controls:!0},eleImg:null,store:{scale:1,moveable:!1,originScale:1,oriDistance:1},lastTouchEndTime:0}),I=a((()=>{const e={};return"top-right"===n.closeIconPosition?e.right="10px":e.left="10px",e})),T=a((()=>B(n,re)));function $(e){e!==P.active&&(P.active=e,u("change",P.active))}function E(){n.contentClose&&k()}function k(){W(n.beforeClose,{args:[P.active],done:()=>(P.showPop=!1,P.store.scale=1,A(),void u(Q))})}function L(e,s){return Math.hypot(Math.abs(s.x-e.x),Math.abs(s.y-e.y))}function A(){null!=P.eleImg&&(P.eleImg.style.transform=`scale(${P.store.scale})`)}function N(e){if((new Date).getTime()-P.lastTouchEndTime<300){const e=P.store;e.scale>1?e.scale=1:1===e.scale&&(e.scale=2),A()}const s=e.touches,a=s[0],t=s[1],o=P.store;o.moveable=!0,t&&(o.oriDistance=L({x:a.pageX,y:a.pageY},{x:t.pageX,y:t.pageY})),o.originScale=o.scale||1}function S(e){if(!P.store.moveable)return;const s=P.store,a=e.touches,t=a[0],o=a[1];if(o){const e=L({x:t.pageX,y:t.pageY},{x:o.pageX,y:o.pageY})/s.oriDistance;s.scale=s.originScale*e,s.scale>3&&(s.scale=3),A()}}function D(){P.lastTouchEndTime=(new Date).getTime();const e=P.store;e.moveable=!1,(e.scale<1.1&&e.scale>1||e.scale<1)&&(e.scale=1,A())}function X(e){u("longPress",e)}return d((()=>n.show),(e=>{P.showPop=e,e&&($(n.initNo),document.addEventListener("touchmove",S),document.addEventListener("touchend",D),document.addEventListener("touchcancel",D))})),d((()=>n.initNo),(e=>{e!==P.active&&$(e)})),m((()=>{$(n.initNo)})),(e,s)=>{const a=x,n=C,u=j,p=r;return t(),o(R,{visible:P.showPop,"onUpdate:visible":s[0]||(s[0]=e=>P.showPop=e),"lock-scroll":!0,"pop-class":"nut-image-preview-custom-pop"},{default:l((()=>[f(p,{class:i(T.value),style:c(e.customStyle),onTouchstartCapture:N},{default:l((()=>[P.showPop?(t(),o(z,{key:0,"auto-play":e.autoplay,"custom-class":"nut-image-preview-swiper",loop:e.isLoop,"is-prevent-default":!1,direction:"horizontal","init-page":e.initNo,"pagination-visible":e.paginationVisible,"pagination-color":e.paginationColor,onChange:$},{default:l((()=>[(t(!0),g(h,null,v(e.images,((s,i)=>(t(),o(O,{key:i},{default:l((()=>[f(u,{class:"nut-image-movable-area"},{default:l((()=>[f(n,{disabled:!e.scale,inertia:"","scale-area":"",class:"nut-image-preview-img",scale:e.scale,direction:"all"},{default:l((()=>[f(a,{mode:"aspectFit",src:s.src,class:"nut-image-preview-img",onLongPress:e=>X(s),onLongTap:e=>X(s),onClick:_(E,["stop"])},null,8,["src","onLongPress","onLongTap"])])),_:2},1032,["disabled","scale"])])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["auto-play","loop","init-page","pagination-visible","pagination-color"])):y("",!0)])),_:1},8,["class","style","onTouchstartCapture"]),e.showIndex?(t(),o(p,{key:0,class:"nut-image-preview-index"},{default:l((()=>[w(b(P.active+1)+" / "+b(e.images.length),1)])),_:1})):y("",!0),e.closeable?(t(),o(p,{key:1,class:"nut-image-preview-close-icon",style:c(I.value),onClick:k},{default:l((()=>[f(J,{name:"circle-close","custom-color":"#ffffff"})])),_:1},8,["style"])):y("",!0)])),_:1},8,["visible"])}}}),[["__scopeId","data-v-e31d61c1"]]),de=e({__name:"ImgPreview",props:{src:{default:U},alt:{default:"展示图片"},customClass:{default:""}},setup(e){const s=e,o=p({showPreview:!1}),l=()=>{o.showPreview=!0},n=()=>{o.showPreview=!1},c=a((()=>[{src:(null==s?void 0:s.src)||U}]));return(e,a)=>(t(),g(h,null,[P("img",{src:(null==s?void 0:s.src)||I(U),alt:s.alt,class:i(e.customClass),onClick:l},null,10,["src","alt"]),f(pe,{show:o.showPreview,images:c.value,onClose:n},null,8,["show","images"])],64))}}),me=X(e({__name:"index",setup(e){const s=p({data:null});return q((e=>{var a;a=e.id,K(a).then((e=>{s.data=e}))})),(e,a)=>{const n=V,i=r,c=$,u=ne,p=ae,d=E;return t(),o(i,{class:"container"},{default:l((()=>[f(i,{class:"card mb-10"},{default:l((()=>{var e,a;return[P("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}},[P("section",null,[P("div",{class:"title"},b(null==(e=s.data)?void 0:e.label),1)]),P("section")]),f(n,{"custom-style":{color:"#EAEAEA",margin:"11px 0 6px 0",padding:"0"}}),f(de,{src:null==(a=s.data)?void 0:a.imgUrl,"custom-class":"image",alt:"游戏"},null,8,["src"])]})),_:1}),f(i,{class:"card mb-10"},{default:l((()=>[P("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}},[P("section",{class:"title"}," 游戏简介 ")]),f(n,{"custom-style":{color:"#EAEAEA",margin:"11px 0 6px 0",padding:"0"}}),f(p,null,{default:l((()=>[f(u,{span:24},{default:l((()=>[f(c,{class:"text"},{default:l((()=>{var e;return[w(b((null==(e=s.data)?void 0:e.description)||I(L)),1)]})),_:1})])),_:1})])),_:1})])),_:1}),f(d,{style:{width:"100%"},type:"primary",onClick:a[0]||(a[0]=e=>{var a,t;return t=null==(a=null==s?void 0:s.data)?void 0:a.id,T({url:`/subPages/game/nes/index?id=${t}`}),void k()})},{default:l((()=>[w(" 开始游戏 ")])),_:1})])),_:1})}}}),[["__scopeId","data-v-14191baa"]]);export{me as default};
