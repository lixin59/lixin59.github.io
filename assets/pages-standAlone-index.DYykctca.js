import{d as o,c as l,a as s,b as a,e as t,f as e,g as r,h as c,u as n,k as i,j as d,t as p,n as u,I as m,m as f,C as g,z as b,w as y,J as _,K as h,S as v,L as C,o as x,i as w,A as T,F as k,B as j,q as L}from"./index-Bjmfnv5I.js";import{c as S,m as $,a as z,g as I,p as B,P as E,_ as F,b as N}from"./plugin-vueexport-helper.DAvfYnQo.js";import{u as A}from"./useTranslate.BO1xDsLr.js";import{b as M,c as V,N as W}from"./icon.DVwKPz0k.js";import{_ as q}from"./index.BZrvPJH-.js";import{_ as G,e as H}from"./empty.CX6YZWHz.js";import{b as O}from"./uni-app.es.CMfX3w62.js";import{g as P}from"./index.BV0azIvN.js";import"./useInject.CbebNwfb.js";const U={...S,image:$("empty"),imageSize:z(""),description:$("")},D=`${E}-empty`,{translate:J}=A(D),K=o({name:D,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),Y=F(o({...K,props:U,setup(o){const g=o,b=l((()=>I(g,D))),y=l((()=>g.imageSize?{width:B(g.imageSize),height:B(g.imageSize)}:{})),_=g.image.startsWith("https://")||g.image.startsWith("http://")||g.image.startsWith("//")?g.image:{empty:"https://static-ftcms.jd.com/p/files/61a9e3183985005b3958672b.png",error:"https://ftcms.jd.com/p/files/61a9e33ee7dcdbcc0ce62736.png",network:"https://static-ftcms.jd.com/p/files/61a9e31de7dcdbcc0ce62734.png"}[g.image];return(o,l)=>{const g=m,h=f;return s(),a(h,{class:u(b.value),style:r(o.customStyle)},{default:t((()=>[e(h,{class:"nut-empty__box",style:r(y.value)},{default:t((()=>[c(o.$slots,"image",{},(()=>[n(_)?(s(),a(g,{key:0,class:"nut-empty__box--img",src:n(_)},null,8,["src"])):i("",!0)]),!0)])),_:3},8,["style"]),c(o.$slots,"description",{},(()=>[e(h,{class:"nut-empty__description"},{default:t((()=>[d(p(o.description||n(J)("noData")),1)])),_:1})]),!0),c(o.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-bc4acf66"]]),Q={...S,customColor:String,textColor:String,type:$("default"),plain:Boolean,round:Boolean,mark:Boolean,closeable:Boolean,closeIconSize:z(11),disabled:Boolean},R={[M]:o=>o instanceof Object,[V]:o=>o instanceof Object},X=`${E}-tag`,Z=o({name:X,options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"}}),oo=F(o({...Z,props:Q,emits:R,setup(o,{emit:e}){const n=o,d=e,p=l((()=>I(n,X,{[`${X}--${n.type}`]:n.type,[`${X}--plain`]:n.plain,[`${X}--round`]:n.round,[`${X}--mark`]:n.mark,[`${X}--disabled`]:n.disabled}))),m=l((()=>{const o={};return n.textColor&&(o.color=n.textColor),n.customColor&&(o.borderColor=n.customColor,n.plain?n.textColor||(o.color=n.customColor):o.background=n.customColor),N(n,o)}));function b(o){n.disabled||d(M,o)}function y(o){n.disabled||d(V,o)}return(o,l)=>{const e=f;return s(),a(e,{class:u(p.value),style:r(m.value),onClick:b},{default:t((()=>[c(o.$slots,"default",{},void 0,!0),n.closeable?(s(),a(W,{key:0,name:"close","custom-class":"nut-tag--close",size:n.closeIconSize,onClick:g(y,["stop"])},null,8,["size"])):i("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-8100b6b7"]]),lo=F(o({__name:"BackTop",props:{scrollTop:{default:0},bgColor:{default:"#ffffff"},borColor:{default:"#cccccc"},color:{default:"#2b2b2b"},scrollTopFn:{type:Function,default:void 0}},setup(o,{expose:c}){const n=o,i=b({on:!0,show:!1}),d=l((()=>{let o=n.color.replace("#","%23");return'background-image: url("'+("data:image/svg+xml,%3Csvg width='600' height='600' viewBox='0 0 1024 1024' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M754.42 535.63 534.31 315.04c-3.14-4.73-7.77-8.65-13.72-10.73-3.18-1.25-6.56-1.81-9.99-1.74-0.24 0-0.44-0.12-0.70-0.12-0.33 0-0.60 0.15-0.93 0.17-3.34-0.05-6.64 0.47-9.71 1.67-6.05 2.11-10.75 6.08-13.91 10.92L265.43 535.63c-10.20 10.19-9.41 27.53 1.73 38.65 11.14 11.12 27.95 11.41 38.15 1.22 0.81-0.83 1.60-1.37 2.28-2.30l173.83-173.52 0.28 413.37c-0.16 1.08 0 1.96 0 3.04 0 13.57 12.08 24.59 27.84 24.59s28.55-11.02 28.55-24.59l0.30-416.41 173.86 173.52c0.69 0.93 1.47 1.47 2.30 2.30 10.19 10.19 26.99 9.89 38.14-1.22C763.83 563.16 764.61 545.82 754.42 535.63z' fill='"+o+"'/%3E%3Cpath d='M865.26 209.95c0 13.85-11.22 25.08-25.08 25.08L179.67 235.03c-13.85 0-25.08-11.23-25.08-25.08l0 0c0-13.85 11.23-25.08 25.08-25.08l660.51 0C854.04 184.86 865.26 196.10 865.26 209.95L865.26 209.95z' fill='"+o+"'/%3E%3C/svg%3E")+'")'})),p=()=>{n.scrollTopFn?n.scrollTopFn():_({scrollTop:0})},m=o=>{i.show=o>600};return y((()=>n.scrollTop),(o=>{"number"==typeof o&&m(o)})),c({scroll:m}),(o,l)=>{const c=f;return s(),a(c,{class:u(["xtotop",!0===i.show?"active":""]),style:r(`background-color: ${o.bgColor}; border-color: ${o.borColor};`),onClick:p},{default:t((()=>[e(c,{class:"in"},{default:t((()=>[e(c,{class:"img",style:r(d.value)},null,8,["style"])])),_:1})])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-ed5a845c"]]),so=F(o({__name:"LoadMore",emits:["scrolltolower"],setup(o,{emit:l}){const r=l,n=b({scrollTop:0,old:{scrollTop:0}}),i=o=>{var l;(null==(l=null==o?void 0:o.detail)?void 0:l.scrollTop)&&(n.old.scrollTop=o.detail.scrollTop)},d=()=>{r("scrolltolower")},p=()=>{n.scrollTop=n.old.scrollTop,h((()=>{n.scrollTop=0,n.old.scrollTop=0}))};return O((()=>{p()})),(o,l)=>{const r=v;return s(),a(r,{"scroll-top":n.scrollTop,"scroll-y":"",class:"scroll-Y",onScroll:i,onScrolltolower:d,"lower-threshold":"10","scroll-with-animation":""},{default:t((()=>[c(o.$slots,"default",{},void 0,!0),e(lo,{scrollTop:n.old.scrollTop,bgColor:"#fff",borColor:"#ddd",color:"#222",scrollTopFn:p},null,8,["scrollTop"])])),_:3},8,["scroll-top"])}}}),[["__scopeId","data-v-b3fb332e"]]),ao=F(o({__name:"index",setup(o){const r=b({content:"上拉加载更多",total:0,params:{stationName:"",pageSize:10,pageNo:1},isLoading:!1,dataList:[]}),c="#478BFF",u=l((()=>r.params.pageNo*r.params.pageSize)),m=l((()=>r.params.pageSize<r.total)),g=()=>{r.params.pageNo=1,P(r.params).then((o=>{r.dataList=(null==o?void 0:o.list)||[],r.total=(null==o?void 0:o.total)||0}))},y=async()=>{var o;try{if(r.isLoading)return;if(r.total>u.value){r.isLoading=!0,r.content="加载中",r.params.pageNo+=1;const l=await P(r.params);r.total=(null==l?void 0:l.total)||0,null==(o=l.list)||o.forEach((o=>{r.dataList.push(o)})),r.content="上拉加载更多数据"}else r.content="没有更多数据了"}catch(l){console.log("err at  onScrollToLower")}finally{r.isLoading=!1}};O((()=>{r.dataList=[],r.isLoading=!0,g();const o=setTimeout((()=>{C(),r.isLoading=!1,clearTimeout(o)}),1e3)}));return x((()=>{g()})),(o,l)=>{const u=W,b=q,_=G,h=oo,v=f,C=W,x=Y;return s(),a(v,null,{default:t((()=>[e(b,{modelValue:r.params.stationName,"onUpdate:modelValue":l[0]||(l[0]=o=>r.params.stationName=o),shape:"square",clearable:"",placeholder:"请输入游戏名称",onSearch:g,onClear:g},{leftin:t((()=>[e(u,{name:"search2"})])),_:1},8,["modelValue"]),e(v,{class:"container"},{default:t((()=>[e(so,{onScrolltolower:y},{default:t((()=>[(s(!0),w(k,null,T(r.dataList,(o=>(s(),a(v,{class:"card mb-10",key:o.id,onClick:l=>(o=>{L({url:`/subPages/standAlone/detail/index?id=${o.id}`})})(o)},{default:t((()=>[j("div",{style:{display:"flex","justify-content":"space-between","align-items":"center"}},[j("section",null,[j("div",{class:"card-title"},p(o.label),1)]),j("section",{class:"flex-box"},[j("img",{src:o.imgUrl,style:{width:"50px",height:"50px"},alt:""},null,8,["src"])])]),e(v,{style:{padding:"0 4px"}},{default:t((()=>[e(_,{"custom-style":{color:"#EAEAEA",margin:"11px 0 5px 0",padding:"0"}}),j("div",{style:{display:"flex","justify-content":"flex-start","flex-flow":"row wrap"}},[(s(!0),w(k,null,T(o.tag,(o=>(s(),w("section",{class:"mr-6 mr-6",key:o},[e(h,{"custom-color":c,plain:""},{default:t((()=>[d(p(o),1)])),_:2},1032,["custom-color"])])))),128))])])),_:2},1024)])),_:2},1032,["onClick"])))),128)),m.value?(s(),a(_,{key:0},{default:t((()=>[d(p(r.content)+" ",1),"加载中"===r.content?(s(),a(C,{key:0,name:"loading",size:"12"})):i("",!0)])),_:1})):i("",!0),r.dataList.length<1?(s(),a(x,{key:1},{image:t((()=>[j("img",{src:n(H),alt:"emptyIcon"},null,8,["src"])])),_:1})):i("",!0)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-69030788"]]);export{ao as default};
